<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:system="clr-namespace:System;assembly=mscorlib"
                    xmlns:hc="https://handyorg.github.io/handycontrol">

    <ResourceDictionary.MergedDictionaries>
     
        <!-- 1. 值转换器（基础，可被其他资源使用） -->
        <ResourceDictionary Source="Converters.xaml" />

        <!-- 2. 文字样式（基础） -->
        <ResourceDictionary Source="Typography.xaml" />

        <!-- 3. 控件样式（依赖文字和颜色） -->
        <ResourceDictionary Source="Controls.xaml" />
    </ResourceDictionary.MergedDictionaries>

    <!-- 通用间距 -->
    <Thickness x:Key="DefaultPadding">10</Thickness>
    <Thickness x:Key="LargePadding">20</Thickness>
    <Thickness x:Key="SmallPadding">5</Thickness>

    <!-- 通用圆角 -->
    <CornerRadius x:Key="DefaultCornerRadius">4</CornerRadius>
    <CornerRadius x:Key="LargeCornerRadius">8</CornerRadius>
    <CornerRadius x:Key="RoundCornerRadius">20</CornerRadius>

    <!-- 字体尺寸 -->
    <system:Double x:Key="FontSizeSmall">12</system:Double>
    <system:Double x:Key="FontSizeDefault">14</system:Double>
    <system:Double x:Key="FontSizeMedium">16</system:Double>
    <system:Double x:Key="FontSizeLarge">18</system:Double>
    <system:Double x:Key="FontSizeExtraLarge">24</system:Double>
    <system:Double x:Key="FontSizeHuge">32</system:Double>

    <!-- 间距 -->
    <Thickness x:Key="PaddingSmall">5</Thickness>
    <Thickness x:Key="PaddingDefault">10</Thickness>
    <Thickness x:Key="PaddingMedium">15</Thickness>
    <Thickness x:Key="PaddingLarge">20</Thickness>

    <Thickness x:Key="MarginSmall">5</Thickness>
    <Thickness x:Key="MarginDefault">10</Thickness>
    <Thickness x:Key="MarginMedium">15</Thickness>
    <Thickness x:Key="MarginLarge">20</Thickness>

    <!-- 圆角 -->
    <CornerRadius x:Key="CornerRadiusSmall">3</CornerRadius>
    <CornerRadius x:Key="CornerRadiusDefault">6</CornerRadius>
    <CornerRadius x:Key="CornerRadiusMedium">8</CornerRadius>
    <CornerRadius x:Key="CornerRadiusLarge">12</CornerRadius>
    <CornerRadius x:Key="CornerRadiusRound">999</CornerRadius>

    <!-- 动画时长 -->
    <Duration x:Key="AnimationDurationFast">0:0:0.15</Duration>
    <Duration x:Key="AnimationDurationNormal">0:0:0.25</Duration>
    <Duration x:Key="AnimationDurationSlow">0:0:0.35</Duration>

    <!-- 阴影效果（Freezable，可以被多次引用） -->
    <DropShadowEffect x:Key="ShadowDepth1"
                      Color="Black"
                      Opacity="0.06"
                      BlurRadius="3"
                      ShadowDepth="1"
                      Direction="270" />

    <DropShadowEffect x:Key="ShadowDepth2"
                      Color="Black"
                      Opacity="0.1"
                      BlurRadius="8"
                      ShadowDepth="2"
                      Direction="270" />

    <DropShadowEffect x:Key="ShadowDepth3"
                      Color="Black"
                      Opacity="0.12"
                      BlurRadius="12"
                      ShadowDepth="4"
                      Direction="270" />

    <!-- ==================== HandyControl Tag 样式修复 ==================== -->
    <!-- 修复 ShowCloseButton 绑定警告：完全覆盖模板，避免查找 TagContainer -->
    <!-- 此样式必须在 HandyControl Theme 之后加载才能覆盖默认样式 -->
    <Style TargetType="{x:Type hc:Tag}">
        <Setter Property="ShowCloseButton" Value="False" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type hc:Tag}">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            Padding="{TemplateBinding Padding}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            
                            <!-- 内容 -->
                            <ContentPresenter Grid.Column="0"
                                            Content="{TemplateBinding Content}"
                                            ContentTemplate="{TemplateBinding ContentTemplate}"
                                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                            Margin="{TemplateBinding Padding}" />
                            
                            <!-- 关闭按钮 - 使用触发器控制显示，避免绑定错误 -->
                            <Button x:Name="PART_CloseButton"
                                    Grid.Column="1"
                                    Width="16"
                                    Height="16"
                                    Margin="4,0,0,0"
                                    Padding="0"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Center"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    Cursor="Hand"
                                    Visibility="Collapsed">
                                <Path Data="M0,0 L8,8 M8,0 L0,8"
                                      Stroke="{TemplateBinding Foreground}"
                                      StrokeThickness="1.5"
                                      Stretch="Uniform" />
                            </Button>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <!-- 当 ShowCloseButton 为 True 时显示关闭按钮 -->
                        <Trigger Property="ShowCloseButton" Value="True">
                            <Setter TargetName="PART_CloseButton" Property="Visibility" Value="Visible" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>