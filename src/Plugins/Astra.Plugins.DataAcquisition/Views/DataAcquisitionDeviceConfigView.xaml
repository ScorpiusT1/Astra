<UserControl x:Class="Astra.Plugins.DataAcquisition.Views.DataAcquisitionDeviceConfigView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:hc="https://handyorg.github.io/handycontrol"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="800">
    <UserControl.Resources>
        <Style TargetType="CheckBox"
               BasedOn="{StaticResource ModernCheckBoxStyle}" />

        <Style TargetType="TextBox"
               BasedOn="{StaticResource DefaultModernTextBoxStyle}" />

        <Style TargetType="TextBlock"
               BasedOn="{StaticResource ModrenTextBlockStyle}" />

        <Style TargetType="ComboBox"
               BasedOn="{StaticResource ModernComboBoxStyle}" />

    </UserControl.Resources>
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- 标题 -->
            <TextBlock Grid.Row="0" Text="数据采集设备配置" 
                       FontSize="18" FontWeight="Bold" 
                       Margin="0,0,0,20"/>

            <!-- 设备名称 -->
            <Grid Grid.Row="1" Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="设备名称:" VerticalAlignment="Center"/>
                <TextBox Grid.Column="1"
                         Text="{Binding DeviceName, UpdateSourceTrigger=PropertyChanged}"
                       
                         hc:InfoElement.Placeholder="请输入设备名称"/>
            </Grid>

            <!-- 序列号 -->
            <Grid Grid.Row="2" Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="序列号:" VerticalAlignment="Center"/>
                <TextBox Grid.Column="1" Text="{Binding SerialNumber, UpdateSourceTrigger=PropertyChanged}" 
                         hc:InfoElement.Placeholder="请输入设备序列号"/>
            </Grid>

            <!-- 采样率 -->
            <Grid Grid.Row="3" Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="采样率 (Hz):" VerticalAlignment="Center"/>
                <ComboBox Grid.Column="1"
                          ItemsSource="{Binding SampleRateOptions}"
                          SelectedItem="{Binding SampleRate, UpdateSourceTrigger=PropertyChanged}"
                          FontSize="14"
                          hc:InfoElement.Placeholder="请选择采样率">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding StringFormat='{}{0:F3} Hz'}" />
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
            </Grid>

            <!-- 通道数量 -->
            <Grid Grid.Row="4" Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="通道数量:" VerticalAlignment="Center"/>
                <ComboBox Grid.Column="1"
                          ItemsSource="{Binding ChannelCountOptions}"
                          SelectedItem="{Binding ChannelCount, UpdateSourceTrigger=PropertyChanged}"
                          FontSize="14"
                          hc:InfoElement.Placeholder="请选择通道数量">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding StringFormat='{}{0} 通道'}" />
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
            </Grid>

            <!-- 缓冲区大小 -->
            <Grid Grid.Row="5" Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="缓冲区大小:" VerticalAlignment="Center"/>
                <TextBox Grid.Column="1"
                         Text="{Binding BufferSize, UpdateSourceTrigger=PropertyChanged}"
                         FontSize="14"
                         hc:InfoElement.Placeholder="请输入缓冲区大小"/>
            </Grid>

            <!-- 自动启动 -->
            <CheckBox Grid.Row="6" Content="插件启动时自动开始采集"
                      FontSize="14"
                      FontWeight="Medium"
                      IsChecked="{Binding AutoStart}"                     
                      Margin="0,0,0,15"/>

            <!-- 启用状态 -->
            <CheckBox Grid.Row="7" Content="启用设备"               
                      IsChecked="{Binding IsEnabled}"
                      FontSize="14"
                      FontWeight="Medium"
                      Margin="0,0,0,15"/>

            <!-- 分组和槽位 -->
            <Grid Grid.Row="8"
                  Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="20" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid Grid.Column="0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Row="0"
                               Text="分组ID:"
                               Margin="0,0,0,5" />
                    <TextBox Grid.Row="1"
                             Text="{Binding GroupId, UpdateSourceTrigger=PropertyChanged}"
                             hc:InfoElement.Placeholder="G0" />
                </Grid>
                <Grid Grid.Column="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Row="0"
                               Text="槽位ID:"
                               Margin="0,0,0,5" />
                    <TextBox Grid.Row="1"
                             Text="{Binding SlotId, UpdateSourceTrigger=PropertyChanged}"
                             hc:InfoElement.Placeholder="S0" />
                </Grid>
            </Grid>
        </Grid>
    </ScrollViewer>
</UserControl>
